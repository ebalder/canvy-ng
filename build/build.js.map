{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","js/canvas.js","js/editor.js","js/item.js","js/panel.js","templates/canvy-item.html","templates/canvy-layout.html","templates/canvy-panel.html","templates/editor.html"],"names":[],"mappings":"AAAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvEA;AACA;;ACDA;AACA;;ACDA;AACA;;ACDA;AACA","file":"build.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nvar ng = (typeof window !== \"undefined\" ? window['angular'] : typeof global !== \"undefined\" ? global['angular'] : null)\n\nng.module('canvy', [])\n.directive('canvyLayout', function($http){\n\treturn {\n\t\ttemplate: require('../templates/canvy-layout.html'),\t\n\t\ttransclude: true,\n\t\trestrict: \"EA\",\n\t\treplace: true,\n\t\tcontroller: function($scope){\n\t\t},\n\t\tlink: function(scope, el, attrs){\n\t\t\t\n\t\t}\n\t}\n})\n\nvar panel = require('./panel')\nvar editor = require('./editor')\n\n","'use strict';\n\nvar ng = (typeof window !== \"undefined\" ? window['angular'] : typeof global !== \"undefined\" ? global['angular'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nng.module('canvy')\n\t.directive('canvyEditor', function(){\n\t\treturn {\n\t\t\trestrict: 'EA',\n\t\t\treplace: true,\n\t\t\ttemplate: require('../templates/editor.html'),\n\t\t\trequire: '^canvyLayout',\n\t\t\tscope: false,\n\t\t\tcontroller: function($scope){\n\t\t\t},\n\t\t\tlink: function($scope, el, attrs, layout){\n\t\t\t\tvar canvas = el.parent();\n\t\t\t\tvar overlay = $('<div class=\"canvy-editor-overlay\"></div>', canvas);\t\n\t\t\t\t$('.canvy-editor', el).button();\n\n\t\t\t\t$scope.toggleEdit = function(){\n\t\t\t\t\tconsole.log('lets eddit');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n","'use strict';\n\nvar ng = (typeof window !== \"undefined\" ? window['angular'] : typeof global !== \"undefined\" ? global['angular'] : null)\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null)\n\nng.module('canvy')\n.directive('canvyItem', function($timeout){\n\treturn {\n\t\trestrict: 'AE',\n\t\treplace: true,\n\t\ttransclude: true,\n\t\trequire: '^canvyPanel',\n\t\ttemplate: require('../templates/canvy-item.html'),\n\t\tscope: true,\n\t\tcontroller: function($scope){\n\n\t\t},\n\t\tlink: function($scope, el, attrs, panel){\n\t\t\tvar $el = $(el);\n\t\t\tvar nameInput = $('.canvy-item-name-input', $el);\n\t\t\tvar inputOverlay = $('.overlay', $el);\n\t\t\tel[0].item = $scope.item;\n\t\t\t$el.css({\n\t\t\t\t\"background-color\": $scope.item.color\n\t\t\t});\n\t\t\t$scope.$watch(attrs.ngActivate,\n\t\t\t\tfunction(val){\n\t\t\t\t\tif(val){\n\t\t\t\t\t\tnameInput.prop('disabled', false);\n\t\t\t\t\t\t$timeout(function(){nameInput.focus()}, 10);\n\t\t\t\t\t\tinputOverlay.css({\"z-index\": -1});\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tnameInput.blur();\n\t\t\t\t\t\tnameInput.prop('disabled', true);\n\t\t\t\t\t\tinputOverlay.css({\"z-index\": 1});\n\t\t\t\t\t}\n\t\t\t\t}, \n\t\t\ttrue);\n\n\t\t\t$scope.enter = function(ev){\n\t\t\t\tif(ev.key == 'Enter'){\n\t\t\t\t\t$scope.editing = false;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.destroy = function(){\n\t\t\t\tel.remove();\n\t\t\t\t$scope.$parent.removeItem($el.index());\n\t\t\t\t$scope.$destroy();\n\t\t\t}\n\t\t}\n\t}\n})\n\n\n","'use strict';\n\nvar ng = (typeof window !== \"undefined\" ? window['angular'] : typeof global !== \"undefined\" ? global['angular'] : null)\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null)\n\nng.module('canvy')\n.directive('canvyPanel', function(){\n\treturn {\n\t\ttemplate: require('../templates/canvy-panel.html'),\n\t\ttransclude: true,\n\t\tscope: {\n\t\t\t\n\t\t},\n\t\trestrict: \"EA\",\n\t\trequire: \"^canvyLayout\",\n\t\treplace: true,\n\t\tscope: false,\n\t\tcontroller: function($scope) {\n\t\t\t$scope.mouseOver = false;\n\t\t},\n\t\tlink: function($scope, el, attrs, layout){\n\t\t\tvar $el = $(el); //required for jqueryUI\n\t\t\tvar panel = $scope.panel;\n\t\t\tlayout = $scope.$parent; //ToDo: why is layout empty?\n\t\t\tvar unit = layout.data.unit.map(function(curr){return curr*100});\n\t\t\tel[0].panel = panel;\n\t\t\tvar arr = $el.sortable({\n\t\t\t\trevert: true,\n\t\t\t\thelper: 'clone',\n\t\t\t\tconnectWith: '.canvy-panel',\n\t\t\t})\n\t\t\t.on('sortstop', swapItem)\n\t\t\t.on('sortstart', setInitialIndex);\n\n\t\t\t$el.css({\n\t\t\t\tposition: 'absolute',\n\t\t\t\tborder: 'solid',\n\t\t\t\t\"box-sizing\": 'border-box',\n\t\t\t\ttop: (unit[1] * panel.upperLeft[1]) +'%',\n\t\t\t\tleft: (unit[0] * panel.upperLeft[0]) +'%',\n\t\t\t\twidth: (unit[0] * panel.area[0]) +'%',\n\t\t\t\theight: (unit[1] * panel.area[1]) +'%'\n\t\t\t});\n\n\t\t\t$scope.removeItem = function(index){\n\t\t\t\tdelete $scope.panel.items[index];\n\t\t\t}\n\t\t\t$scope.newItem = function(){\n\t\t\t\tpanel.items.push({ name: 'new-item', color: 'blue'});\n\n\t\t\t}\n\n\t\t}\n\t}\n})\n\nfunction setInitialIndex(ev, ui) {\n\tui.item[0].initial = ui.item.index();\n}\n\nfunction swapItem (ev, ui){\n\tvar src = ev.target.panel;\n\tvar dest = ui.item.parent()[0].panel;\n\t\n\tvar oldIndex = ui.item[0].initial;\n\tvar newIndex= ui.item.index();\n\tvar item = src.items.splice(oldIndex, 1);\n\tdest.items.splice(newIndex, 0, item[0]);\t\n}\n\nvar item = require('./item')\n","module.exports = \"<li class=\\\"canvy-item\\\" ng-init=\\\"editing = false\\\"\\n\\tng-dblclick=\\\"editing = true\\\"\\t\\n\\tng-activate=\\\"editing\\\" > \\n\\n\\t<input type=\\\"text\\\" class=\\\"canvy-item-name-input\\\"\\n\\t\\tng-model=\\\"item.name\\\"\\n\\t\\tng-blur=\\\"editing = false\\\"\\n\\t\\tng-keypress=\\\"enter($event)\\\"\\n\\t\\tdisabled>\\n\\t<div class=\\\"overlay\\\"> </div>\\n\\t<div class=\\\"remove\\\" ng-click=\\\"destroy()\\\">\\n\\t\\tX\\t\\n\\t</div>\\n</li>\\n\";\n","module.exports = \"<div class=\\\"canvy-layout\\\">\\n\\t<canvy-panel ng-repeat=\\\"panel in data.panels\\\">\\n\\t</canvy-panel>\\n\\t<!--<canvy-editor></canvy-editor> -->\\n</div>\\n\";\n","module.exports = \"<ul class=\\\"canvy-panel\\\" >\\n\\t<div class=\\\"canvy-panel-header\\\">{{panel.name}}</div>\\n\\t<canvy-item ng-repeat=\\\"item in panel.items\\\">\\n\\t</canvy-item>\\n\\t<li class=\\\"add-item\\\" ng-click=\\\"newItem()\\\">+</li>\\n</ul>\\n\";\n","module.exports = \"<div>\\n\\t<input type=\\\"checkbox\\\" class=\\\"canvy-editor\\\" id=\\\"canvy-editor\\\" ng-checked=\\\"toggleEdit\\\"/>\\n\\t<label for=\\\"canvy-editor\\\">Edit</label>\\n\\n</div>\\n\";\n"]}